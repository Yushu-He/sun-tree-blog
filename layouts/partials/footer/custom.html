<script type="text/javascript" src="/js/L2Dwidget.min.js"></script>
<script type="text/javascript" src="/js/L2Dwidget.0.min.js"></script>
<script type="text/javascript">
  var tororo = "/models/tororo/assets/tororo.model.json";
  var hijiki = "/models/hijiki/assets/hijiki.model.json";

  function show(path) {
    config.model.jsonPath = path;
    L2Dwidget.init(config);
  }

  function judge() {
    if (document.getElementsByTagName("html")[0].dataset.scheme==='dark') {
        show(tororo);
        return 0;
    }
    else
    {
        show(hijiki);
        return 1;
    }
  }

  function change() {
    switch (live2dmode) {
      case 0:
        show(hijiki);
        live2dmode=1;
        break;
    
      case 1:
        show(tororo);
        live2dmode=0;
        break;
    }
  }

  var config = {
    model: {
      jsonPath: "", // xxx.model.json 的路径
      scale: 1,
      hHeadPos: 0.5,
      vHeadPos: 0.618,
    },
    display: {
      superSample: 1, // 超采样等级
      width: 180, // canvas的宽度
      height: 450, // canvas的高度
      hOffset: 0, // canvas水平偏移
      vOffset: -140, // canvas垂直偏移
    },
    mobile: {
      show: true, // 是否在移动设备上显示
      scale: 1, // 移动设备上的缩放
      motion: true, // 移动设备是否开启重力感应
    },
    react: {
      opacityDefault: 1, // 默认透明度
      opacityOnHover: 1, // 鼠标移上透明度
    },
    dialog: {
      enable: true,
      //hitokoto: true,
      script: {
        'every idle 20s': '$hitokoto$',
      },
    },
  };
  window.onload = function () {
    live2dmode=judge();
    document.getElementById("dark-mode-toggle").addEventListener("click",change);
  };
</script>
